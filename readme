# ESP32 BLE Zonas Aleat√≥rias

Projeto de comunica√ß√£o BLE (Bluetooth Low Energy) usando ESP32, enviando zonas aleat√≥rias para clientes BLE conectados. Ideal para testes de integra√ß√£o com aplicativos m√≥veis, automa√ß√£o, IoT e rastreamento indoor em ambientes como p√°tios, estacionamentos ou laborat√≥rios.

---

## üìñ Sum√°rio

- [Objetivo](#objetivo)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Pr√©-requisitos](#pr√©-requisitos)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Instru√ß√µes de Instala√ß√£o e Uso](#instru√ß√µes-de-instala√ß√£o-e-uso)
- [Funcionamento do C√≥digo](#funcionamento-do-c√≥digo)
- [Resultados Parciais e Testes](#resultados-parciais-e-testes)
- [Screenshots e Demonstra√ß√µes](#screenshots-e-demonstra√ß√µes)
- [Refer√™ncias e Links √öteis](#refer√™ncias-e-links-√∫teis)
- [Autor](#autor)
- [Licen√ßa](#licen√ßa)

---

## üéØ Objetivo

Demonstrar o uso de Bluetooth Low Energy (BLE) no ESP32 para notifica√ß√£o de zonas simuladas, sorteando valores de zona a cada 2 segundos e notificando clientes conectados. Este projeto pode servir como base para rastreamento de ativos, localiza√ß√£o indoor e experimentos com IoT BLE.

---

## üõ†Ô∏è Tecnologias Utilizadas

- **ESP32** (ex: DevKit, Heltec WiFi LoRa 32, TTGO LoRa32)
- **Arduino IDE** (vers√£o recomendada: 2.x)
- **Linguagem:** C++ (Arduino)
- **Bibliotecas:**
  - BLEDevice.h, BLEServer.h, BLEUtils.h, BLE2902.h (embutidas no core do ESP32)
- **Aplicativo cliente BLE:**  
  - nRF Connect, LightBlue Explorer (iOS/Android), Serial Bluetooth Terminal

---

## ‚öôÔ∏è Pr√©-requisitos

- **Arduino IDE** instalado ([download](https://www.arduino.cc/en/software))
- **Suporte ao ESP32** instalado pela URL adicional nas Prefer√™ncias:
https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json
https://resource.heltec.cn/download/package_heltec_esp32_index.json
- **Driver USB do ESP32** (CH340, CP2102, etc) instalado, se necess√°rio
- **Cabo USB de dados** para conectar o ESP32 ao PC
- **Smartphone com app BLE** instalado

---

## üìÅ Estrutura do Projeto
esp32-ble-zonas/
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ ‚îî‚îÄ‚îÄ IOT-BLE.ino // C√≥digo-fonte Arduino
‚îÇ ‚îî‚îÄ‚îÄ codigo_IOT.txt // C√≥digo-fonte em texto
‚îú‚îÄ‚îÄ images/
‚îÇ ‚îî‚îÄ‚îÄ testeVis√£oComputacional1.jpg // imagem 1 do teste para vis√£o computacional
‚îÇ ‚îî‚îÄ‚îÄ testeVis√£oComputacional2.jpg // imagem 2 do teste para vis√£o computacional
‚îÇ ‚îî‚îÄ‚îÄ testeVis√£oComputacional3.jpg // imagem 3 do teste para vis√£o computacional
‚îÇ‚îÄ‚îÄ Funcionamento_Conex√£o.mp4 // V√≠deo demonstrativo do funcionamento da conex√£o bluetooth com o celular
‚îî‚îÄ‚îÄ README.md // Este arquivo

---

## üöÄ Instru√ß√µes de Instala√ß√£o e Uso

### 1. **Configurar Arduino IDE**

- Abra a IDE e v√° em `Arquivo > Prefer√™ncias`.
- Adicione a URL do ESP32 no campo ‚ÄúURLs Adicionais para Gerenciadores de Placas‚Äù.

### 2. **Instalar placa ESP32**

- Acesse `Ferramentas > Placa > Gerenciador de Placas`, pesquise por **esp32** e instale.

### 3. **Selecionar modelo da sua placa**

- Em `Ferramentas > Placa`, selecione o modelo exato do seu ESP32 (ex: Heltec WiFi LoRa 32).

### 4. **Abrir o c√≥digo**

- Navegue at√© a pasta `src/` e abra o arquivo `IOT-BLE.ino` na IDE.

### 5. **Conectar ESP32 ao PC**

- Use um cabo de dados e aguarde aparecer a porta correta em `Ferramentas > Porta`.
- Se n√£o aparecer, instale o driver necess√°rio para seu modelo (ex: CH340/CP2102).

### 6. **Compilar e enviar para o ESP32**

- Clique no bot√£o de Upload na IDE.
- Abra o **Monitor Serial** a 115200 baud para acompanhar logs.

### 7. **Conectar com App BLE**

- Abra um app BLE no celular (ex: nRF Connect).
- Busque pelo dispositivo chamado **Moto_01_v2**.
- Conecte e monitore a caracter√≠stica UUID:
4fafc201-1fb5-459e-8fcc-c5c9c331914b
- Veja as notifica√ß√µes com as zonas aleat√≥rias a cada 2 segundos.

---

## üîé Funcionamento do C√≥digo

- O ESP32 anuncia um servi√ßo BLE chamado **Moto_01_v2**.
- Ao conectar, o cliente BLE recebe notifica√ß√µes no formato `"ZONA:Xn"`, sorteando entre A1, A2, B1, B2, C1, C2.
- O intervalo entre notifica√ß√µes √© de 2 segundos.
- O monitor serial exibe todos os eventos para debug.

---

## ‚úÖ Resultados Parciais e Testes

- O dispositivo aparece corretamente em apps BLE.
- As zonas aleat√≥rias s√£o recebidas e exibidas em tempo real pelo app cliente.
- O c√≥digo foi testado com ESP32 DevKit e TTGO LoRa32, funcionando conforme esperado.
- N√£o foi implementada autentica√ß√£o BLE (conex√£o aberta para facilitar testes).

---

## üìö Refer√™ncias e Links √öteis

- [Documenta√ß√£o oficial ESP32 Arduino](https://docs.espressif.com/projects/arduino-esp32/en/latest/)
- [BLE no ESP32 - Guia pr√°tico](https://randomnerdtutorials.com/esp32-bluetooth-low-energy-ble-arduino-ide/)
- [nRF Connect para Android](https://play.google.com/store/apps/details?id=no.nordicsemi.android.mcp)
- [nRF Connect para iOS](https://apps.apple.com/us/app/nrf-connect-for-mobile/id1054362403)
- [Baixar driver CH340 (Windows)](https://www.wch.cn/downloads/CH341SER_EXE.html)

---

## üë®‚Äçüíª Autores

- **Seu Nome**
- Lu Vieira
- Diego Furigo

---

## üìé Link para o Reposit√≥rio

<https://github.com/SEU_USUARIO/esp32-ble-zonas>

---

## üìù Licen√ßa

MIT License

---

> **D√∫vidas, sugest√µes ou contribui√ß√µes?** Fique √† vontade para abrir uma issue ou enviar um pull request!
